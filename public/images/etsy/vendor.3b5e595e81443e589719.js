"use strict";(self["jsonp-component-islands"]=self["jsonp-component-islands"]||[]).push([["async/component-islands/vendor"],{60006:function(t,e,r){r.d(e,{ActionTypes:function(){return n},browserHistoryApiIsSupported:function(){return i}});var n={PUSH:"etsy/history/PUSH",REPLACE:"etsy/history/REPLACE",GO:"etsy/history/GO",BACK:"etsy/history/BACK",FORWARD:"etsy/history/FORWARD",LOCATION_CHANGE:"etsy/history/LOCATION_CHANGE"};function i(){var t=window&&window.history&&window.history.pushState;return!!t&&!false}e["default"]=function(t){return function(){return function(e){return function(r){switch(r.type){case n.PUSH:t.push(r.payload.to,r.payload.state);return;case n.REPLACE:t.replace(r.payload.to,r.payload.state);return;case n.GO:t.go(r.payload.delta);return;case n.BACK:t.back();return;case n.FORWARD:t.forward();return;default:return e(r)}}}}}},39528:function(t,e,r){r.d(e,{default:function(){return E}});var n=r(51547);function i(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function a(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?i(Object(r),!0).forEach((function(e){c(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(t,n.key,n)}}function u(t,e,r){e&&s(t.prototype,e);r&&s(t,r);Object.defineProperty(t,"prototype",{writable:false});return t}function c(t,e,r){e in t?Object.defineProperty(t,e,{value:r,enumerable:true,configurable:true,writable:true}):t[e]=r;return t}var l=(0,n.createSlice)({name:"_noop",initialState:{},reducers:{}});var h=function(){function t(){o(this,t);c(this,"_emitChange",void 0);c(this,"_reducers",void 0);this._emitChange=null;this._reducers=this.getInitialReducer()}u(t,[{key:"getReducers",value:function t(){return a({},this._reducers)}},{key:"register",value:function t(e,r){this._reducers[e]||(this._reducers[e]=r);this._emitChange&&this._emitChange(this.getReducers())}},{key:"setChangeListener",value:function t(e){this._emitChange=e}},{key:"getInitialReducer",value:function t(){return{_noop:l.reducer}}},{key:"clearListeners",value:function t(){this._reducers=this.getInitialReducer()}}]);return t}();var f=h;var d=r(28476);var y=r(60006);function v(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(t,n.key,n)}}function g(t,e,r){e&&p(t.prototype,e);r&&p(t,r);Object.defineProperty(t,"prototype",{writable:false});return t}function b(t,e,r){e in t?Object.defineProperty(t,e,{value:r,enumerable:true,configurable:true,writable:true}):t[e]=r;return t}var m=function t(e){var r=e.pathname,n=void 0===r?null:r,i=e.search,a=void 0===i?null:i,o=e.hash,s=void 0===o?null:o,u=e.state,c=void 0===u?null:u,l=e.action,h=void 0===l?null:l;return{type:y.ActionTypes.LOCATION_CHANGE,payload:{pathname:n,search:a,hash:s,state:c,action:h}}};var w=function(){function t(e,r){v(this,t);b(this,"historyLibrary",void 0);b(this,"stopListening",void 0);b(this,"dispatch",void 0);this.historyLibrary=e;this.stopListening=null;this.dispatch=r}g(t,[{key:"dispatchChangeAction",value:function t(e,r){var n=e.pathname,i=e.search,a=e.hash,o=e.state;this.dispatch(m({pathname:n,search:i,hash:a,state:o,action:r||null}))}},{key:"start",value:function t(){var e=this;this.dispatchChangeAction(this.historyLibrary.location);this.stopListening=this.historyLibrary.listen((function(t){var r=t.action,n=t.location;e.dispatchChangeAction(n,r)}))}},{key:"stop",value:function t(){if(this.stopListening){this.stopListening();this.stopListening=null}}}]);return t}();var O;function S(t,e){var r="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=L(t))||e&&t&&"number"===typeof t.length){r&&(t=r);var n=0;var i=function t(){};return{s:i,n:function e(){if(n>=t.length)return{done:true};return{done:false,value:t[n++]}},e:function t(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a=true,o=false,s;return{s:function e(){r=r.call(t)},n:function t(){var e=r.next();a=e.done;return e},e:function t(e){o=true;s=e},f:function t(){try{a||null==r.return||r.return()}finally{if(o)throw s}}}}function L(t,e){if(!t)return;if("string"===typeof t)return C(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return C(t,e)}function C(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function A(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(t,n.key,n)}}function j(t,e,r){e&&_(t.prototype,e);r&&_(t,r);Object.defineProperty(t,"prototype",{writable:false});return t}function k(t,e,r){e in t?Object.defineProperty(t,e,{value:r,enumerable:true,configurable:true,writable:true}):t[e]=r;return t}var P=window;var R=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};A(this,t);k(this,"store",void 0);k(this,"registry",void 0);k(this,"historyListener",void 0);k(this,"storeListeners",void 0);k(this,"lastBroadcastState",void 0);k(this,"initialState",void 0);this.registry=new f;this.initialState=e;this.storeListeners=[];this.lastBroadcastState={};this.init(e)}j(t,[{key:"init",value:function t(){var e=this;var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var i=(0,y.browserHistoryApiIsSupported)()?(0,d.createBrowserHistory)():(0,d.createMemoryHistory)();this.store=this.createStore(this.registry.getReducers(),i,Object.assign(r,this.initialState));this.registry.setChangeListener((function(t){e.store.replaceReducer((0,n.combineReducers)(t))}));this.storeListeners=[];this.store.subscribe((function(){return e.onStoreChange()}));this.historyListener=new w(i,this.store.dispatch.bind(this));this.lastBroadcastState=this.getState()}},{key:"__initForTestingOnly",value:function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.init(e)}},{key:"createStore",value:function t(e,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return(0,n.configureStore)({reducer:(0,n.combineReducers)(e),middleware:function t(e){return e().concat((0,y["default"])(r))},preloadedState:i})}},{key:"getState",value:function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;return void 0!==e?this.store.getState()[e]:this.store.getState()}},{key:"getLastBroadcastState",value:function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;return void 0!==e?this.lastBroadcastState[e]:this.lastBroadcastState}},{key:"onStoreChange",value:function t(){var e=this;var r=[];var n=S(this.storeListeners),i;try{var a=function t(){var n=i.value,a=n.reducerKey,o=n.onChange;var s=e.getLastBroadcastState(a);var u=e.getState(a);s!==u&&r.push((function(){return o(u,s)}))};for(n.s();!(i=n.n()).done;)a()}catch(o){n.e(o)}finally{n.f()}this.lastBroadcastState=this.getState();r.forEach((function(t){return t()}))}},{key:"subscribeTo",value:function t(e,r){var n=this;var i={reducerKey:e,onChange:r};this.storeListeners.push(i);var a=function t(){n.storeListeners=n.storeListeners.filter((function(t){return t!==i}))};return a}},{key:"enableHistoryListener",value:function t(){var e;null===(e=this.historyListener)||void 0===e?void 0:e.start()}},{key:"registerReducer",value:function t(e,r){this.registry.register(e,r)}},{key:"clearListeners",value:function t(){this.storeListeners=[];this.registry.clearListeners()}}]);return t}();P.__componentIslands=null!==(O=P.__componentIslands)&&void 0!==O?O:{};P.__componentIslands.ReduxStoreManager=P.__componentIslands.ReduxStoreManager||new R;var E=P.__componentIslands.ReduxStoreManager}}]);
//# sourceMappingURL=https://www.etsy.com/sourcemaps/primaryVendor/en-US/async/component-islands/vendor.3b5e595e81443e589719.js.map