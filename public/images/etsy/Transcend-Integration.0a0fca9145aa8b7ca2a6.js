(function(){var e={52381:function(e,t,n){"use strict";n.d(t,{default:function(){return i}});var r=n(24507);var o=n(21911);function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var n="/api/v3/ajax/member/transcend/user-consent-preferences";var i={consent_payload:e};if(t){t.hasOwnProperty("is_confirmed")&&(i["is_confirmed"]=t["is_confirmed"]);t.hasOwnProperty("expiration_period_minutes")&&(i["expiration_period_minutes"]=t["expiration_period_minutes"]);t.hasOwnProperty("applicable_purposes")&&(i["applicable_purposes"]=t["applicable_purposes"]);t.hasOwnProperty("regional_experiences")&&(i["regional_experiences"]=t["regional_experiences"])}return{headers:{"x-csrf-token":(0,r["default"])(),"x-detected-locale":(0,o["default"])()},data:i,url:n,type:"POST"}}},6268:function(e,t,n){"use strict";n.d(t,{default:function(){return i}});var r=n(24507);var o=n(21911);function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var n="/api/v3/ajax/public/transcend/anonymous-consent-preferences";var i={consent_payload:e};if(t){t.hasOwnProperty("is_confirmed")&&(i["is_confirmed"]=t["is_confirmed"]);t.hasOwnProperty("expiration_period_minutes")&&(i["expiration_period_minutes"]=t["expiration_period_minutes"]);t.hasOwnProperty("applicable_purposes")&&(i["applicable_purposes"]=t["applicable_purposes"]);t.hasOwnProperty("regional_experiences")&&(i["regional_experiences"]=t["regional_experiences"])}return{headers:{"x-csrf-token":(0,r["default"])(),"x-detected-locale":(0,o["default"])()},data:i,url:n,type:"POST"}}},6255:function(e,t,n){"use strict";n.d(t,{updatePrivacySettingsFooterTextBasedOnRegime:function(){return V}});var r=n(20953);var o=n.n(r);var i=n(24507);var a=n(21911);function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var t="/api/v3/ajax/bespoke/member/user-preferences/gdpr";var n={};if(e){e.hasOwnProperty("third_party_consent")&&(n["third_party_consent"]=e["third_party_consent"]);e.hasOwnProperty("personalization_consent")&&(n["personalization_consent"]=e["personalization_consent"])}return{headers:{"x-csrf-token":(0,i["default"])(),"x-detected-locale":(0,a["default"])()},data:n,url:t,type:"POST"}}var s=n(52381);var u=n(6268);var c=n(24143);var d=n(53285);var f=n(99921);var p="gdprSettingsPromptClosed";var v="data-gdpr-consent-prompt-open-automatically";var g="[data-gdpr-consent-prompt]";function m(){var e=document.querySelector(g);return"true"===(null===e||void 0===e?void 0:e.getAttribute(v))}function y(e){document.addEventListener(p,(function(){e.openOverlay()}))}function h(e){this.manager=e;this.overlayContainer=e.el.find("[data-gdpr-settings-overlay]");this.isThirdPartyConsent=this.overlayContainer.hasClass("third-party-settings");this.openModalEventName=this.isThirdPartyConsent?"third_party_settings_shown":"full_settings_shown";this.overlay=new f["default"](this.overlayContainer[0],{closeOnEsc:false,closeOnMaskClick:false});this.footerSettingsTrigger=o()("[data-gdpr-privacy-settings-trigger]");this.requests={};this.savedTimeout=null;this.setUpHandlers()}h.HEADER_SELECTOR="h2";h.SAVED_INDICATOR_DURATION=5e3;h.SUCCESS_ALERT_DURATION=5e3;h.prototype={setUpHandlers:function e(){var t=this;this.overlayContainer[0].addEventListener("wtOverlayOpen",this.onOpen.bind(this));this.overlayContainer.on("click","a",(function(e){return t.manager.handleLinkClick("full_settings",e)}));this.footerSettingsTrigger.on("click",this.open.bind(this))},switchToFullSettings:function e(){var t=this;this.manager.logEvent("change_settings_clicked");this.manager.closeSingleChoiceSettings().then((function(){t.open()}))},open:function e(){this.manager.logEvent(this.openModalEventName);this.overlay.open();d["default"].increment("gdpr.consent.ui.prompt.".concat(this.openModalEventName));return false},close:function e(){var t=this.overlayContainer.find("[data-gdpr-toggle]");var n={};var r=false;t.each((function(){if(!o()(this).data("modified")){r=true;n[o()(this).attr("name")]=o()(this).is(":checked")}}));r&&this.manager.persistSettings(n).then(this.manager.displaySaveConfirmation);var i=new Event(p);document.dispatchEvent(i);this.overlay.close()},onOpen:function e(){this.overlayContainer.parent(".overlay-content-wrapper").addClass("gdpr-overlay-content-wrapper");this.overlayContainer.find("button[data-wt-overlay-close]").on("click",this.close.bind(this));o()("[data-gdpr-toggle]").on("change",this.updateSetting.bind(this));this.adjustLabels()},toggleGDPRSwitchesOff:function e(){var t=this.overlayContainer.find("[data-gdpr-toggle]");var n=this.overlayContainer;t.each((function(){this.checked=false;var e=n.find('[for = "'.concat(this.id,'"].wt-text-caption'))[0];e&&(e.textContent=this.getAttribute("data-unchecked-label"))}))},toggleGDPRSwitchesOn:function e(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];var n=this.overlayContainer.find("[data-gdpr-toggle]");var r=this.overlayContainer;n.each((function(){if(t||"third_party_consent"!==this.id){this.checked=true;var e=r.find('[for = "'.concat(this.id,'"].wt-text-caption'))[0];e&&(e.textContent=this.getAttribute("data-checked-label"))}}))},updateSetting:function e(t){var n=o()(t.target);var r=n.attr("id");var i=o()(t.target).closest("[data-section]").find("[data-gdpr-toggle-label]");var a;a=n.is(":checked")?n.data("checked-label"):n.data("unchecked-label");i.html(a);n.attr("disabled",true);n.data("modified",true);var l={};l[r]=n.is(":checked");var s=this.manager.persistSettings(l);s.always((function(){n.attr("disabled",false);n.trigger("focus")}));this.handleSaving(r,s)},handleSaving:function e(t,n){var r=this;n.always((function(){r.handleSaved(t,n)}));this.requests[t]=n;o()("[data-saving-indicator]").removeClass("wt-display-none");o()("[data-saved-indicator]").addClass("wt-display-none");this.savedTimeout&&window.clearTimeout(this.savedTimeout)},handleSaved:function e(t,n){var r=this;this.requests[t]=null;var i=true;for(var a in this.requests)if(Object.prototype.hasOwnProperty.call(this.requests,a)&&this.requests[a]){i=false;return}if(i){var l=o()("[data-saving-indicator]",this.overlayContainer);var s=o()("[data-saved-indicator]",this.overlayContainer);l.addClass("wt-display-none");s.removeClass("wt-display-none");this.savedTimeout=window.setTimeout((function(){s.hide();r.savedTimeout=null}),h.SAVED_INDICATOR_DURATION)}},adjustLabels:function e(){o()("[data-section]",this.overlayContainer).each((function(){var e=o()(this).data("section");var t="settings-title-".concat(e);o()(this).find(h.HEADER_SELECTOR).attr("id",t);o()(this).find("[data-gdpr-toggle]").attr("aria-labelledby",t)}))}};var _=h;var b=n(83816);function S(e){this.manager=e;this.overlayContainer=e.el.find("[data-gdpr-single-choice-overlay]");this.overlayReduxContainer=e.el.find("[data-gdpr-single-choice-overlay-redux]");this.overlayReduxWtOverlay=null;this.footerSettingsTrigger=o()("[data-gdpr-privacy-settings-trigger]");this.requests={};this.savedTimeout=null;this.setUpHandlers()}S.HEADER_SELECTOR="h2";S.SAVED_INDICATOR_DURATION=5e3;S.SUCCESS_ALERT_DURATION=5e3;S.prototype={setUpHandlers:function e(){var t=this;var n=this.overlayContainer.add(this.overlayReduxContainer);n.find("[data-gdpr-single-choice-accept]").on("click",this.acceptAll.bind(this));n.find("[data-gdpr-open-full-settings]").on("click",this.switchToFullSettings.bind(this));n.on("click","[data-gdpr-single-choice-reject]",this.essentialOnly.bind(this));n.on("click","a",(function(e){return t.manager.handleLinkClick("single_choice",e)}))},switchToFullSettings:function e(){this.manager.logEvent("change_settings_clicked");return this.close().then(this.manager.openFullSettings)},open:function e(){if(0!==this.overlayContainer.length){this.overlayContainer.show();b["default"].containFocusInElement(this.overlayContainer);b["default"].setFocusToFirstFocusableElement(this.overlayContainer)}else{if(0===this.overlayReduxContainer.length){this.manager.logEvent("single_choice_container_missing");d["default"].increment("gdpr.consent.ui.prompt.single_choice_container_missing");return}this.overlayReduxWtOverlay=new f["default"](this.overlayReduxContainer[0],{closeOnEsc:false,closeOnMaskClick:false});this.overlayReduxWtOverlay.open()}this.manager.logEvent("single_choice_shown");d["default"].increment("gdpr.consent.ui.prompt.single_choice_shown")},close:function e(){b["default"].removeContainFocus();this.overlayContainer.hide();return this.overlayReduxWtOverlay?this.overlayReduxWtOverlay.close():Promise.resolve()},essentialOnly:function e(t){this.manager.handleEssentialOnly();var n=this.manager.persistSettings({personalization_consent:false,third_party_consent:false}).then(this.manager.displaySaveConfirmation);var r=new Event(p);document.dispatchEvent(r);this.close();return n},acceptAll:function e(t){this.manager.handleAcceptAll();var n;n=this.manager.shouldUpdateThirdPartyConsent()?this.manager.persistSettings({personalization_consent:true,third_party_consent:true}).then(this.manager.displaySaveConfirmation):this.manager.persistSettings({personalization_consent:true}).then(this.manager.displaySaveConfirmation);var r=new Event(p);document.dispatchEvent(r);this.close();return n}};var O=S;var w=n(16136);var E=n(51221);var T=n(6226);var C=function(){var e=null;function t(e){!e&&w["default"].getBoolean("dynamic_privacy_settings_ui_enabled")||this.intializeModal(e)}t.getInstance=function(n){e||(e=new t(n));return e};t.resetInstance=function(){e=null};return t}();C.prototype={getTranscendPurposes:function e(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return window.airgap&&window.airgap.getRegimePurposes&&t?Array.from(window.airgap.getRegimePurposes()):w["default"].getArray("all_purposes")},getTranscendRegimes:function e(){return window.airgap&&window.airgap.getRegimes?Array.from(window.airgap.getRegimes()):w["default"].getArray("all_regimes")},getTranscendConsentExpiry:function e(){return window.airgap&&window.airgap.loadOptions&&window.airgap.loadOptions.consentExpiry?window.airgap.loadOptions.consentExpiry:w["default"].getNumber("default_consent_expiry")},checkForOpenAutomatically:function e(){this.singleChoiceSettings&&this.el.data("gdpr-consent-prompt-open-automatically")&&this.singleChoiceSettings.open()},openFullSettings:function e(){this.fullSettings.open()},closeSingleChoiceSettings:function e(){return this.singleChoiceSettings.close()},persistSettings:function e(t){true===t.third_party_consent&&w["default"].getBoolean("google_tag_manager_async_enabled")&&T["default"].fetchOne("google_tag_manager","Etsy\\Modules\\GoogleTagManager\\ApiSpec",{},"POST",[]).then((function(e){var t=document.createRange().createContextualFragment(e.output.google_tag_manager);document.getElementById("google-tag-manager-container").appendChild(t)}));return w["default"].getBoolean("dynamic_privacy_settings_ui_enabled")?this.setTranscendPreferences(t):w["default"].getBoolean("dual_write_enabled")?o().when(o().ajax(l(t)),this.setTranscendPreferences(t)):o().ajax(l(t))},setTranscendPreferences:function e(t){var n={};Object.hasOwn(t,"personalization_consent")&&(n.Functional=t.personalization_consent?"true":"false");Object.hasOwn(t,"third_party_consent")&&(n.Advertising=t.third_party_consent?"true":"false");var r={timestamp:(new Date).toISOString(),purposes:n};var i={is_confirmed:true,expiration_period_minutes:this.getTranscendConsentExpiry(),applicable_purposes:this.getTranscendPurposes(),regional_experiences:this.getTranscendRegimes()};var a=E["default"].getSignedInUserId();return a?o().ajax((0,s["default"])(r,i)):o().ajax((0,u["default"])(r,i))},handleEssentialOnly:function e(){this.logEvent("essential_only");this.fullSettings.toggleGDPRSwitchesOff()},shouldUpdateThirdPartyConsent:function e(){return!this.getTranscendRegimes().some((function(e){return w["default"].getArray("disable_advertising_regimes",[]).includes(e)}))},handleAcceptAll:function e(){this.logEvent("accept_all");this.fullSettings.toggleGDPRSwitchesOn(this.shouldUpdateThirdPartyConsent())},displaySaveConfirmation:function e(){var t=o()(this.consentSuccessAlert);o()("body").append(t);setTimeout((function(){t.remove()}),_.SUCCESS_ALERT_DURATION)},handleLinkClick:function e(t,n){n.preventDefault();var r=o()(n.target).attr("href");this.logEvent("link_clicked",{overlay_source:t,link_url:r});var i=window.open("".concat(r,"?ref=pv_ol"),"_blank");i||(window.location.href="".concat(r,"?ref=pv_ol"))},logEvent:function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var r=n||{};r["event_name"]="gdpr_consent_prompt_".concat(t);c["default"].logEvent(r)},initializeModalFromAPISpec:function e(){var t=this;var n=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(!w["default"].getBoolean("dynamic_privacy_settings_ui_enabled"))return;var r=o()("[data-gdpr-consent-prompt]");T["default"].fetchOne("transcend_consent_modal","GDPR_ApiSpecs_ConsentPrompt",{purposes:this.getTranscendPurposes(n),regimes:this.getTranscendRegimes(),expiration_period_minutes:this.getTranscendConsentExpiry()},"POST",[]).then((function(e){if(!w["default"].getBoolean("dynamic_privacy_settings_ui_enabled"))return;if(0===r.length)c["default"].logEvent({event_name:"dynamic_privacy_ui_element_missing_gdpr-privacy-settings"});else{r.replaceWith(e.output.transcend_consent_modal);t.intializeModal();I("privacy-settings-manager-initialized");t.checkForOpenAutomatically()}})).fail((function(){c["default"].logEvent({event_name:"dynamic_privacy_settings_ui_apispec_failed"})}))},intializeModal:function e(t){var n=t||o()("[data-gdpr-consent-prompt]");this.el=o()(n);if(0===this.el){c["default"].logEvent({event_name:"privacy_settings_empty_inputEl"});return}var r=this.el.find("[data-gdpr-settings-overlay]");if(0===r.length){c["default"].logEvent({event_name:"privacy_settings_empty_fullSettingsOverlayContainer"});return}this.consentSuccessAlert=this.el.find("[data-gdpr-consent-success-alert]").text();this.openFullSettings=this.openFullSettings.bind(this);this.displaySaveConfirmation=this.displaySaveConfirmation.bind(this);this.fullSettings=new _(this);this.singleChoiceSettings=new O(this)}};var P=C;function A(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];var n=C.getInstance(null);try{n.initializeModalFromAPISpec(t)}catch(r){c["default"].logEvent({event_name:"privacy_initialize_modal_from_api_spec_failed"})}if(!w["default"].getBoolean("dynamic_privacy_settings_ui_enabled"))return;e||d["default"].increment("privacy.transcend.privacy_settings_manager_loaded_after_airgap_failure",1);t||d["default"].increment("privacy.transcend.privacy_settings_manager_loaded_after_set_consent_failure",1)}window.initializePrivacySettingsManager=A;I("privacy-settings-manager-load-complete");function I(e){if(document){var t=document.createElement("div");t.setAttribute("id",e);t.style.display="none";document.body&&document.body.appendChild(t)}}function N(){var e=P.getInstance();e.checkForOpenAutomatically()}var x=N;var L=n(71223);var j=n(8209);var k=n(60053);var R=n(61894);var M="500px";var D=function e(){(0,L.onDOMReady)((function(){var e=function e(){n.e(3875).then(n.bind(n,44443))};var t=function e(){c["default"].logEvent({event_name:"footer_seen"})};var r=document.querySelector("#collage-footer");if(r){(0,j["default"])(r,e,{rootMargin:M});(0,j["default"])(r,t)}}))};x();D();var F=document.getElementById("collage-footer__community-teams-link");var B=document.getElementById("collage-footer__community-forums-link");var U=document.getElementById("collage-footer__registry-link");var q=function e(){c["default"].logEvent({event_name:"community_teams"})};var G=function e(){c["default"].logEvent({event_name:"community_forums"})};var W=function e(){c["default"].logEvent({event_name:"registry_ingress_footer_clicked"})};var z=function e(){c["default"].logEvent({event_name:"registry_ingress_footer_seen"})};if(null!==F&&null!==B){F.addEventListener("click",(0,k["default"])(q,250));B.addEventListener("click",(0,k["default"])(G,250))}if(null!==U){(0,j["default"])(U,z);U.addEventListener("click",(0,k["default"])(W,250))}var H=document.querySelector("#collage-footer [data-footer-app-link]");H&&H.addEventListener("click",(function(){c["default"].logEventImmediately({event_name:"footer_app_link_click"})}));function V(){var e;var t="do-not-sell-or-share";if(!w["default"].getBoolean("dynamic_privacy_settings_ui_enabled"))return;var n=null!==(e=window.airgap)&&void 0!==e&&e.getRegimes?Array.from(window.airgap.getRegimes()):[t];var r=null;if(n.includes(t))d["default"].increment("privacy.dynamic_ui.privacy_footer.text_not_updated");else{r=(0,R.msg)({content:"Privacy settings",translated:false});d["default"].increment("privacy.dynamic_ui.privacy_footer.text_updated")}if(r){var o=document.querySelector("[data-gdpr-privacy-settings-trigger] span");o?o.textContent=r:d["default"].increment("privacy.dynamic_ui.privacy_footer.text_missing")}}window.updatePrivacySettingsFooterTextBasedOnRegime=V;if(document){var Y=document.createElement("div");Y.setAttribute("id","footer-script-loaded");Y.style.display="none";document.body&&document.body.appendChild(Y)}},70101:function(){"use strict";function e(e){return r(e)||n(e)||a(e)||t()}function t(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function n(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function r(e){if(Array.isArray(e))return l(e)}function o(e,t){return u(e)||s(e,t)||a(e,t)||i()}function i(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function a(e,t){if(!e)return;if("string"===typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,t)}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r=[];var o=true;var i=false;var a,l;try{for(n=n.call(e);!(o=(a=n.next()).done);o=true){r.push(a.value);if(t&&r.length===t)break}}catch(s){i=true;l=s}finally{try{o||null==n["return"]||n["return"]()}finally{if(i)throw l}}return r}function u(e){if(Array.isArray(e))return e}var c="[\\w$-]+";var d=new RegExp("\\{\\{(".concat(c,")\\}\\}"));var f=new RegExp("\\{\\{#(".concat(c,")\\}\\}"));function p(t){var n=d.exec(t);if(n){var r=o(n,2),i=r[0],a=r[1];if(void 0===i||void 0===a){false;return[t]}var l=n.index;if(g(t,n)){var s=t.slice(0,l-1);var u=t.slice(l+i.length,t.length);return m([s,i].concat(e(p(u))))}var c=t.slice(0,l);var f=t.slice(l+i.length,t.length);return m([c,{type:"variable",variable:a}].concat(e(p(f))))}return[t]}function v(t){var n=f.exec(t);if(n){var r=o(n,2),i=r[0],a=r[1];if(void 0===i||void 0===a){false;return p(t)}var l=n.index;if(g(t,n)){var s=t.slice(0,l-1);var u=t.slice(l+i.length,t.length);return m([].concat(e(p(s)),[i],e(v(u))))}var c=t.slice(0,l);var d="{{/".concat(a,"}}");var y=t.indexOf(d);if(-1===y){false;var h=t.slice(l+i.length,t.length);return m([].concat(e(p(c)),e(v(h))))}var _=t.slice(l+i.length,y);var b=t.slice(y+d.length,t.length);return m([].concat(e(p(c)),[{type:"block",variable:a,children:v(_)}],e(v(b))))}return p(t)}function g(e,t){if(0===t.index)return false;return"\\"===e[t.index-1]}function m(e){return e.filter((function(e){if("string"===typeof e)return e.length>0;return true}))}function y(e){if(void 0===e)return;return{type:"tree",version:1,children:v(e)}}var h=null&&y},29152:function(e,t,n){"use strict";var r=n(23736);var o=n(99427);var i=n(65621);var a={visitTree:function e(t,n){return(0,i.jsx)(i.Fragment,{children:t})},visitBlock:function e(t,n,o){return(0,i.jsx)(r["default"],{tagKey:t,args:o.args,children:n},o.nextKey())},visitVariable:function e(t,n){return(0,i.jsx)(o["default"],{tagKey:t,args:n.args},n.nextKey())}};function l(e,t){var n=1;return transform(e,a,{args:t,nextKey:function e(){return(n++).toString()}})}},71066:function(e,t,n){"use strict";var r={visitTree:function e(t,n){return t.join("")},visitBlock:function e(t,n,r){return r[t]?n.join(""):""},visitVariable:function e(t,n){var r=n[t];var o=r||0===r;return o?r.toString():""}};function o(e,t){return transform(e,r,t)}},61894:function(e,t,n){"use strict";n.d(t,{msg:function(){return p}});var r=n(40781);var o=n(70101);var i=n(29152);var a=n(71066);function l(e,t){return f(e)||d(e,t)||u(e,t)||s()}function s(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(e,t){if(!e)return;if("string"===typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function d(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r=[];var o=true;var i=false;var a,l;try{for(n=n.call(e);!(o=(a=n.next()).done);o=true){r.push(a.value);if(t&&r.length===t)break}}catch(s){i=true;l=s}finally{try{o||null==n["return"]||n["return"]()}finally{if(i)throw l}}return r}function f(e){if(Array.isArray(e))return e}function p(e){var t=e.content;return t}function v(e){var t=e.content;var n=void 0;var r=function e(){void 0===n&&(n=parse(t));return n};var o=function e(n){return void 0===n?t:renderToString(r(),n)};o.toComponent=function(){return function e(t){var n=t.args;return renderToPreact(r(),null!==n&&void 0!==n?n:{})}};return o}function g(e){var t=e;var n=new Map;var r=function e(t){var r=n.get(t);if(void 0===r){r=parse(t);n.set(t,r)}return r};var o=function e(n,o){var i=m(t,n);return void 0===o?i:renderToString(r(i),o)};o.toComponent=function(){var e=function e(n){var o=n.pluralCount,i=n.args;var a=m(t,o);return renderToPreact(r(a),null!==i&&void 0!==i?i:{})};e.displayName="Msg";return e};return o}function m(e,t){if(y(e))return 1===t?e.content.one:e.content.many;var n=l(e.content,2),r=n[0],o=n[1];return etsyMsg.pickPluralCase(r,o,t)}function y(e){return Object.prototype.hasOwnProperty.call(e.content,"one")&&Object.prototype.hasOwnProperty.call(e.content,"many")}},23736:function(e,t){"use strict";function n(e){var t=e.tagKey,n=e.args,r=e.children;if(void 0===r)return null;var o=n[t];if("function"!==typeof o){false;return null}return o(r)}t["default"]=n},99427:function(e,t,n){"use strict";var r=n(65621);function o(e){var t=e.tagKey,n=e.args;var o=n[t];if(void 0===o)return null;return(0,r.jsx)(r.Fragment,{children:o})}t["default"]=o},40477:function(e,t,n){"use strict";var r=n(14339);var o=n(34205);var i="wt-html-no-scroll";var a="wt-body-no-scroll";var l=[];var s=function e(){this.original_padding_right=0;this.original_scroll_top=0;this.container=null;this.uuid=(0,o["default"])();this.enableScrollingImmediately=false};s.prototype.isScrollingDisabled=function(){return l.indexOf(this.uuid)>=0&&document.body.classList.contains(a)};s.prototype.disableScrolling=function(){if(!this.isScrollingDisabled()){l.push(this.uuid);var e=void 0!==window.pageYOffset?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop;var t=r["default"].scrollBarWidth();this.original_padding_right=parseInt(document.body.style.paddingRight||0);this.original_scroll_top=e;document.body.classList.add(a);document.documentElement.classList.add(i);document.body.style.paddingRight="".concat(this.original_padding_right+t,"px");document.body.style.top="".concat(-1*e,"px")}};s.prototype.enableScrolling=function(){var e=this;if(this.isScrollingDisabled()){l.pop(this.uuid);var t=function t(){document.body.style.paddingRight=e.original_padding_right;document.body.style.top="auto";document.body.classList.remove(a);document.documentElement.classList.remove(i);document.body.scrollTop=e.original_scroll_top;document.documentElement.scrollTop=e.original_scroll_top};this.enableScrollingImmediately?t():setTimeout(t,5)}};s.prototype.containScrolling=function(e){this.disableScrolling();this.container=e;this.container.style["overscroll-behavior"]="contain"};s.prototype.releaseScrolling=function(){this.enableScrolling();this.container&&this.container.style.removeProperty("overscroll-behavior")};t["default"]=s},14339:function(e,t){"use strict";function n(){this._scrollBarWidth=null}n.prototype={scrollBarWidth:function e(t){null===this._scrollBarWidth&&(this._scrollBarWidth=o());return r()||t?this._scrollBarWidth:0}};function r(){return document.body.scrollHeight>window.innerHeight}function o(){var e=document.createElement("div");e.style.visibility="hidden";e.style.width="100px";e.style.msOverflowStyle="scrollbar";document.body.appendChild(e);var t=e.offsetWidth;e.style.overflow="scroll";var n=document.createElement("div");n.style.width="100%";e.appendChild(n);var r=n.offsetWidth;e.parentNode.removeChild(e);return t-r}t["default"]=new n},99921:function(e,t,n){"use strict";var r=n(97418);var o=n(91289);var i=n(51949);var a=n(5015);var l=n(95989);var s=n(32648);function u(e){"@babel/helpers - typeof";return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;"value"in r&&(r.writable=true);Object.defineProperty(e,r.key,r)}}function d(e,t,n){t&&c(e.prototype,t);n&&c(e,n);Object.defineProperty(e,"prototype",{writable:false});return e}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});Object.defineProperty(e,"prototype",{writable:false});t&&v(e,t)}function v(e,t){v=Object.setPrototypeOf||function e(t,n){t.__proto__=n;return t};return v(e,t)}function g(e){var t=h();return function n(){var r=_(e),o;if(t){var i=_(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return m(this,o)}}function m(e,t){if(t&&("object"===u(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return y(e)}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return true}catch(e){return false}}function _(e){_=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return _(e)}function b(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:true,configurable:true,writable:true}):e[t]=n;return e}var S=function(e){p(n,e);var t=g(n);function n(e,r){var s,u,c,d,p,v;var g;f(this,n);g=t.call(this);b(y(g),"state",void 0);b(y(g),"element",void 0);b(y(g),"elements",void 0);b(y(g),"options",void 0);b(y(g),"id",void 0);b(y(g),"ariaRole",void 0);b(y(g),"SELECTORS",void 0);b(y(g),"triggers",void 0);b(y(g),"closeButtons",void 0);b(y(g),"overlayCore",void 0);b(y(g),"_setupAnimateIn",(function(){if(g.options.animateIn){var e;null===(e=g.elements.root)||void 0===e?void 0:e.classList.remove(i["default"].CLASSES.NO_ANIMATION)}else{var t;null===(t=g.elements.root)||void 0===t?void 0:t.classList.add(i["default"].CLASSES.NO_ANIMATION)}}));b(y(g),"_setupAnimateOut",(function(){if(g.options.animateOut){var e;null===(e=g.elements.root)||void 0===e?void 0:e.classList.remove(i["default"].CLASSES.NO_ANIMATION)}else{var t;null===(t=g.elements.root)||void 0===t?void 0:t.classList.add(i["default"].CLASSES.NO_ANIMATION)}}));b(y(g),"_setupTriggers",(function(){g.triggers=document.querySelectorAll('button[aria-controls="'.concat(g.id,'"]'));Array.prototype.map.call(g.triggers,(function(e){g.overlayCore&&e.addEventListener("click",g.overlayCore.open.bind(g.overlayCore))}),y(g))}));b(y(g),"_setupCloseButtons",(function(){var e;g.closeButtons=(null===(e=g.element)||void 0===e?void 0:e.querySelectorAll(g.SELECTORS.CLOSE_BUTTON))||null;g.closeButtons&&Array.prototype.map.call(g.closeButtons,(function(e){g.overlayCore&&e.addEventListener("click",g.overlayCore.cancel.bind(g.overlayCore))}),y(g))}));b(y(g),"_moveIntoContainer",(function(){var e;g.element&&(null===(e=g.elements.globalModalContainer)||void 0===e?void 0:e.appendChild(g.element))}));b(y(g),"handleStateChange",(function(e){switch(e){case i["default"].OPEN_STATES.IS_OPENING:g._handleOpening();break;case i["default"].OPEN_STATES.IS_OPEN:g._handleOpen();break;case i["default"].OPEN_STATES.IS_CANCELED:g._handleCancelled();break;case i["default"].OPEN_STATES.IS_CLOSING:g._handleClosing();break;case i["default"].OPEN_STATES.IS_CLOSED:g._handleClosed();break;default:break}}));b(y(g),"_handleOpening",(function(){var e,t,n;null===(e=g.elements.root)||void 0===e?void 0:e.dispatchEvent(new CustomEvent(i["default"].EVENTS.BEFORE_OPEN));null===(t=g.elements.root)||void 0===t?void 0:t.setAttribute("aria-hidden","false");null===(n=g.elements.root)||void 0===n?void 0:n.setAttribute("aria-modal","true")}));b(y(g),"_handleOpen",(function(){var e,t;null===(e=g.elements.modal)||void 0===e?void 0:e.classList.add(i["default"].CLASSES.ANIMATION_DONE);null===(t=g.elements.root)||void 0===t?void 0:t.dispatchEvent(new CustomEvent(i["default"].EVENTS.OPEN));g._setupAnimateOut()}));b(y(g),"_handleCancelled",(function(){var e;null===(e=g.elements.root)||void 0===e?void 0:e.dispatchEvent(new CustomEvent(i["default"].EVENTS.CANCEL));g.close()}));b(y(g),"_handleClosing",(function(){var e,t,n,r;null===(e=g.elements.root)||void 0===e?void 0:e.dispatchEvent(new CustomEvent(i["default"].EVENTS.BEFORE_CLOSE));null===(t=g.elements.modal)||void 0===t?void 0:t.classList.remove(i["default"].CLASSES.ANIMATION_DONE);null===(n=g.elements.root)||void 0===n?void 0:n.setAttribute("aria-modal","false");null===(r=g.elements.root)||void 0===r?void 0:r.setAttribute("aria-hidden","true")}));b(y(g),"_handleClosed",(function(){var e;null===(e=g.elements.root)||void 0===e?void 0:e.dispatchEvent(new CustomEvent(i["default"].EVENTS.CLOSE));g._setupAnimateIn()}));b(y(g),"open",(function(){var e;return null===(e=g.overlayCore)||void 0===e?void 0:e.open()}));b(y(g),"close",(function(){var e;return null===(e=g.overlayCore)||void 0===e?void 0:e.close()}));b(y(g),"cancel",(function(){var e;return null===(e=g.overlayCore)||void 0===e?void 0:e.cancel()}));g.state=i["default"].INITIAL_STATE;g.element=e;g.id=(null===(s=g.element)||void 0===s?void 0:s.getAttribute("id"))||void 0;g.elements={};g.overlayCore=null;g.ariaRole=(null===(u=g.element)||void 0===u?void 0:u.getAttribute("role"))||null;g.triggers=null;g.closeButtons=null;g.SELECTORS={MODAL_ELEMENT:"[data-overlay-modal]",CLOSE_BUTTON:"[data-wt-overlay-close]"};var h=(null===(c=g.element)||void 0===c?void 0:c.querySelector(g.SELECTORS.MODAL_ELEMENT))||null;var _=g.element?(0,l["default"])(g.element):{};g.options=Object.assign({},i["default"].DEFAULT_OPTIONS,r,{ariaRole:g.ariaRole},_);if(null!==(d=g.options)&&void 0!==d&&d.modalContainerId&&null!==(p=g.options)&&void 0!==p&&p.pageContentSelector){g.elements={root:g.element,modal:h,globalModalContainer:o["default"].getGlobalModalContainer(g.options.modalContainerId),globalPageContent:document.querySelectorAll(g.options.pageContentSelector)};g.overlayCore=new o["default"](g.id,g.options,g.elements);g.overlayCore.initialize();g.overlayCore.addListener((function(e){g.handleStateChange(e.openState)}))}if(!(0,a["default"])(e,"WtOverlay - The element provided to the constructor does not exist"))return m(g);if(!(0,a["default"])(h,"WtOverlay - The [data-overlay-modal] child does not exist"))return m(g);g._setupAnimateIn();g._moveIntoContainer();null!==(v=g.options)&&void 0!==v&&v.customTrigger||g._setupTriggers();g._setupCloseButtons();return g}return d(n)}(r["default"]);t["default"]=S},51949:function(e,t){"use strict";var n={ariaRole:"dialog",closeOnEsc:true,closeOnMaskClick:true,animateIn:true,animateOut:true,animationStyle:"fade",pageContentSelector:"#content, #gnav-header, #cnav-header, #gnav-footer, #desktop-category-nav, #collage-footer",modalContainerId:"wt-modal-container",customTrigger:false};var r={root:null,modal:null,globalModalContainer:null,globalPageContent:null};var o={default:"",large:"wt-overlay--large",info:"wt-overlay--info",alert:"wt-overlay--alert",peek:"wt-overlay--peek",peekRight:"wt-overlay--peek wt-overlay--peek-right",peekLeft:"wt-overlay--peek wt-overlay--peek-left",full:"wt-overlay--full-screen",video:"wt-overlay--video"};var i={IS_CLOSED:"isClosed",IS_OPENING:"isOpening",IS_OPEN:"isOpen",IS_CLOSING:"isClosing",IS_CANCELED:"isCanceled"};var a={openState:i.IS_CLOSED};var l={BEFORE_OPEN:"wtOverlayBeforeOpen",OPEN:"wtOverlayOpen",BEFORE_CLOSE:"wtOverlayBeforeClose",CLOSE:"wtOverlayClose",CANCEL:"wtOverlayCancel"};var s={WILL_ANIMATE:"wt-overlay--will-animate",ANIMATION_DONE:"wt-overlay--animation-done",ANIMATION_STYLE_GROW:"wt-overlay--animation-style-grow",NO_ANIMATION:"wt-overlay--no-animation",HAS_CLOSE_ICON:"wt-overlay--has-close-icon",DISPLAY_NONE:"wt-display-none"};var u={primary:"primary",secondary:"secondary",cancel:"cancel"};var c={filled:"filled",outline:"outline",transparent:"transparent",tertiary:"tertiary"};var d={OPEN_ANIMATION_TIMEOUT:300,CLOSE_ANIMATION_TIMEOUT:300,GROW_ANIMATION_TIMEOUT:350};var f={INITIAL_FOCUS_ELEMENT:"[data-overlay-initial-focus]"};var p={DEFAULT_OPTIONS:n,DEFAULT_ELEMENT_REFS:r,OVERLAY_TYPES:o,OPEN_STATES:i,INITIAL_STATE:a,EVENTS:l,CLASSES:s,ACTIONS_TYPES:u,CUSTOM_STYLE_TYPES:c,CSS_CONSTANTS:d,SELECTORS:f};t["default"]=p},91289:function(e,t,n){"use strict";var r=n(40477);var o=n(41453);var i=n(97418);var a=n(12405);var l=n(51949);var s=n(5015);var u=n(97854);function c(e){"@babel/helpers - typeof";return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){w(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;"value"in r&&(r.writable=true);Object.defineProperty(e,r.key,r)}}function v(e,t,n){t&&p(e.prototype,t);n&&p(e,n);Object.defineProperty(e,"prototype",{writable:false});return e}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});Object.defineProperty(e,"prototype",{writable:false});t&&y(e,t)}function y(e,t){y=Object.setPrototypeOf||function e(t,n){t.__proto__=n;return t};return y(e,t)}function h(e){var t=S();return function n(){var r=O(e),o;if(t){var i=O(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return _(this,o)}}function _(e,t){if(t&&("object"===c(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return b(e)}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return true}catch(e){return false}}function O(e){O=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return O(e)}function w(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:true,configurable:true,writable:true}):e[t]=n;return e}var E=function(e){m(n,e);var t=h(n);function n(e,i,c){var d;g(this,n);d=t.call(this);w(b(d),"state",void 0);w(b(d),"id",void 0);w(b(d),"options",void 0);w(b(d),"elements",void 0);w(b(d),"_animationTimeout",void 0);w(b(d),"_bodyScrollManager",void 0);w(b(d),"_overlayFocusTrap",void 0);w(b(d),"triggerPlaceholder",void 0);w(b(d),"getInitialState",(function(){return l["default"].INITIAL_STATE}));w(b(d),"initialize",(function(){var e;d.elements.root instanceof HTMLElement&&(null===(e=d.elements.root)||void 0===e?void 0:e.classList.remove(l["default"].CLASSES.DISPLAY_NONE));d._bodyScrollManager=new r["default"];d._setupFocusTrap()}));w(b(d),"getGlobalModalContainer",(function(e){var t=(0,u.createPortalDestination)("screen-covers",e);return t}));w(b(d),"open",(function(){var e;if(d._animationTimeout&&d.state.openState===l["default"].OPEN_STATES.IS_OPENING)return d._animationTimeout.getPromise();if(d.state.openState===l["default"].OPEN_STATES.IS_OPEN)return Promise.resolve();d._animationTimeout&&d._animationTimeout.cancel();d.elements.root&&d.elements.root.classList.add(l["default"].CLASSES.WILL_ANIMATE);null===(e=d._bodyScrollManager)||void 0===e?void 0:e.containScrolling(d.elements.root);d.setState({openState:l["default"].OPEN_STATES.IS_OPENING});"grow"===d.options.animationStyle?d._animationTimeout=d._applyGrowStyles("open"):d._animationTimeout=new a["default"](d.options.animateIn?l["default"].CSS_CONSTANTS.OPEN_ANIMATION_TIMEOUT:0);if(d._animationTimeout){var t;return null===(t=d._animationTimeout)||void 0===t?void 0:t.then((function(){d._openCompleted()}))}d._openCompleted();return}));w(b(d),"cancel",(function(){if(d._animationTimeout&&d.state.openState===l["default"].OPEN_STATES.IS_CLOSING)return d._animationTimeout.getPromise();if(d.state.openState===l["default"].OPEN_STATES.IS_CLOSED)return Promise.resolve();d.setState({openState:l["default"].OPEN_STATES.IS_CANCELED});return}));w(b(d),"close",(function(){if(d._animationTimeout&&d.state.openState===l["default"].OPEN_STATES.IS_CLOSING)return d._animationTimeout.getPromise();if(d.state.openState===l["default"].OPEN_STATES.IS_CLOSED)return Promise.resolve();d._animationTimeout&&d._animationTimeout.cancel();d.setState({openState:l["default"].OPEN_STATES.IS_CLOSING});d._releaseFocusTrap(true);"grow"===d.options.animationStyle?d._animationTimeout=d._applyGrowStyles("close"):d._animationTimeout=new a["default"](d.options.animateOut?l["default"].CSS_CONSTANTS.CLOSE_ANIMATION_TIMEOUT:0);if(d._animationTimeout)return d._animationTimeout.then((function(){d._closeCompleted()}));d._closeCompleted();return}));w(b(d),"teardown",(function(){d._animationTimeout&&d._animationTimeout.cancel();d._releaseScrollingLock();d._releaseFocusTrap(true);d._globalAriaHide()}));w(b(d),"_openCompleted",(function(){var e;d._animationTimeout=null;d._globalAriaShow();null===(e=d._overlayFocusTrap)||void 0===e?void 0:e.activate();d.setState({openState:l["default"].OPEN_STATES.IS_OPEN})}));w(b(d),"_closeCompleted",(function(){d._animationTimeout=null;d.elements.root&&d.elements.root.classList.remove(l["default"].CLASSES.WILL_ANIMATE);d._releaseScrollingLock();d._globalAriaHide();d.setState({openState:l["default"].OPEN_STATES.IS_CLOSED})}));w(b(d),"_releaseScrollingLock",(function(){var e;null===(e=d._bodyScrollManager)||void 0===e?void 0:e.releaseScrolling()}));w(b(d),"_releaseFocusTrap",(function(e){if(e){var t;null===(t=d._overlayFocusTrap)||void 0===t?void 0:t.deactivate({onDeactivate:function e(){return}})}else{var n;null===(n=d._overlayFocusTrap)||void 0===n?void 0:n.deactivate()}}));w(b(d),"_applyGrowStyles",(function(e){var t=d._getTriggerElement();if(!(0,s["default"])(t,"WtOverlay - To use grow animation (`animationStyle='grow'`), the overlay must have a trigger element with an`aria-controls` attribute matching the overlay id"))return new a["default"](0);if(d.elements.modal&&t){var n=t.getBoundingClientRect();d.elements.modal.style.transition="none";d.elements.modal.style.transform="none";var r=d.elements.modal.getBoundingClientRect();d.elements.modal.style.transition="";d.elements.modal.style.transform="";if(!d.triggerPlaceholder){d.triggerPlaceholder=document.createElement("div");document.body.appendChild(d.triggerPlaceholder)}d.triggerPlaceholder.classList.add("wt-overlay__animation-placeholder");var o={left:"left",top:"top",width:"width",height:"height"};var i=["left","top","width","height"];i.forEach((function(e){d.triggerPlaceholder&&n&&(d.triggerPlaceholder.style[e]="".concat(n[e],"px"))}));var u=2;var c={x:r.left+.5*u-n.left,y:r.top+.5*u-n.top,width:(r.width-u)/n.width,height:(r.height-u)/n.height};var f="translate3d(".concat(c.x,"px, ").concat(c.y,"px, 0px) scale(").concat(c.width,", ").concat(c.height,")");var p=function e(t){requestAnimationFrame((function(){requestAnimationFrame(t)}))};if("open"===e)p((function(){if(d.triggerPlaceholder){d.triggerPlaceholder.classList.add("wt-overlay__animation-placeholder--open");d.triggerPlaceholder.style.transform=f}}));else{d.triggerPlaceholder.classList.add("wt-overlay__animation-placeholder--open");d.triggerPlaceholder.style.transform=f;p((function(){if(d.triggerPlaceholder){d.triggerPlaceholder.classList.remove("wt-overlay__animation-placeholder--open");d.triggerPlaceholder.style.transform="translate3d(0, 0, 0) scale(1)"}}))}var v=1e3/60*2;var g=new a["default"](l["default"].CSS_CONSTANTS.GROW_ANIMATION_TIMEOUT+v);g.then((function(){setTimeout((function(){d.triggerPlaceholder&&d.triggerPlaceholder.parentElement&&d.triggerPlaceholder.parentElement.removeChild(d.triggerPlaceholder);d.triggerPlaceholder=null}),50)}));return g}return null}));w(b(d),"_getTriggerElement",(function(){var e;var t=null===(e=d.elements.root)||void 0===e?void 0:e.id;var n=document.querySelector("[aria-controls='".concat(t,"']"));return n}));w(b(d),"_setupFocusTrap",(function(){d.elements.modal instanceof HTMLElement&&(d._overlayFocusTrap=(0,o["default"])(d.elements.modal,f(f({},d.options),{},{initialFocusSelector:l["default"].SELECTORS.INITIAL_FOCUS_ELEMENT,maskSelector:"#".concat(d.options.modalContainerId)}),d.cancel))}));w(b(d),"_globalAriaShow",(function(){if(d.elements.globalModalContainer&&d.elements.globalPageContent)for(var e=0;e<d.elements.globalPageContent.length;e++){var t=d.elements.globalPageContent[e];t instanceof HTMLElement&&t.setAttribute("aria-hidden","true")}}));w(b(d),"_globalAriaHide",(function(){if(d.elements.globalModalContainer&&d.elements.globalPageContent)for(var e=0;e<d.elements.globalPageContent.length;e++){var t=d.elements.globalPageContent[e];t instanceof HTMLElement&&t.setAttribute("aria-hidden","false")}}));d.id=e;d.options=f(f({},l["default"].DEFAULT_OPTIONS),i);d.state=f({},l["default"].INITIAL_STATE);d.elements=f(f({},l["default"].DEFAULT_ELEMENT_REFS),c);d.listeners=[];d._animationTimeout=null;d._bodyScrollManager=null;d._overlayFocusTrap=null;d.triggerPlaceholder=null;d.cancel=d.cancel.bind(b(d));return d}return v(n)}(i["default"]);w(E,"getInitialState",(function(){return l["default"].INITIAL_STATE}));w(E,"getGlobalModalContainer",(function(e){var t=(0,u.createPortalDestination)("screen-covers",e);return t}));t["default"]=E},12405:function(e,t,n){"use strict";n.d(t,{default:function(){return l}});function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;"value"in r&&(r.writable=true);Object.defineProperty(e,r.key,r)}}function i(e,t,n){t&&o(e.prototype,t);n&&o(e,n);Object.defineProperty(e,"prototype",{writable:false});return e}function a(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:true,configurable:true,writable:true}):e[t]=n;return e}var l=function(){function e(t){var n=this;r(this,e);a(this,"timeout",null);a(this,"promise",void 0);this.promise=0===t?Promise.resolve():new Promise((function(e){n.timeout=setTimeout(e,t)}))}i(e,[{key:"getPromise",value:function e(){return this.promise}},{key:"cancel",value:function e(){this.timeout&&clearTimeout(this.timeout)}},{key:"then",value:function e(t){return this.promise.then(t)}}]);return e}()},41453:function(e,t,n){"use strict";n.d(t,{default:function(){return c}});var r=n(98277);var o=n(75818);var i="alertdialog";var a="click";var l="[data-initial-focus]";var s=false;function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l;var n=e.querySelector(t);var r=n||void 0;var i;r&&(i=function e(){r&&!(0,o.isFocusable)(r)&&r.setAttribute("tabindex","-1");return r});return i}function c(e,t,n){var l=t.ariaRole,c=t.closeOnEsc,d=t.closeOnMaskClick,f=t.initialFocusSelector,p=t.maskSelector;var v=u(e,f);var g=function t(){e.setAttribute("tabindex","-1");return e};var m=l!==i&&d;var y=null;var h=null;var _=function e(t){var n=null;t.target instanceof Element&&(n=t.target);if(!m)return true;if(t.type!==a){h=n;return true}if(null===h||h!==n){h=null;return true}if(p&&null===n.closest(p)){h=null;return true}h=null;y&&n&&y({returnFocus:!(0,o.isFocusable)(n)});return false};var b=(0,r.createFocusTrap)(e,{escapeDeactivates:c,onDeactivate:n,initialFocus:v,fallbackFocus:g,clickOutsideDeactivates:s,allowOutsideClick:_,preventScroll:true});y=null===b||void 0===b?void 0:b.deactivate;return b}},97418:function(e,t){"use strict";function n(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function r(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function o(e){"@babel/helpers - typeof";return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;"value"in r&&(r.writable=true);Object.defineProperty(e,r.key,r)}}function l(e,t,n){t&&a(e.prototype,t);n&&a(e,n);Object.defineProperty(e,"prototype",{writable:false});return e}function s(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:true,configurable:true,writable:true}):e[t]=n;return e}var u=function(){function e(){i(this,e);s(this,"state",void 0);s(this,"elements",void 0);s(this,"listeners",void 0);this.elements={};this.listeners=[]}l(e,[{key:"getState",value:function e(){return this.state}},{key:"setState",value:function e(t,n){if("object"===o(t))for(var r in t)void 0!==t[r]&&(this.state[r]=t[r]);else t in this.state&&void 0!==n&&(this.state[t]=n);this.notifyListeners()}},{key:"addListener",value:function e(t){this.listeners=this.listeners||[];this.listeners.push(t)}},{key:"notifyListeners",value:function e(){var t=this.getState();this.listeners=this.listeners||[];this.listeners.forEach((function(e){e(t)}))}},{key:"setElements",value:function e(t){this.elements=r(r({},this.elements),t)}}]);return e}();t["default"]=u},95989:function(e,t,n){"use strict";n.d(t,{default:function(){return a}});function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:true,configurable:true,writable:true}):e[t]=n;return e}function a(e){var t=o({},e.dataset);for(var n in t){var r=t[n];if("true"!==r&&"false"!==r)continue;t[n]="true"===r}return t}},32648:function(e,t,n){"use strict";var r=n(71223);var o=n(52487);var i=n(79365);var a="--vh";var l="mobileViewportHeight";var s=null;var u=function e(){if("undefined"!==typeof window){var t=.01*window.innerHeight;document.documentElement.style.setProperty(a,"".concat(t,"px"))}};(0,r.onDOMReady)((function(){if("undefined"===typeof window||!o["default"].hasSupport("cssVariables")||l in document.body.dataset)return;u();window.addEventListener("resize",(function(){s&&window.cancelAnimationFrame(s);s=window.requestAnimationFrame(u)}),i["default"]);document.body.dataset[l]="true"}))},79365:function(e,t,n){"use strict";var r=n(52487);t["default"]=r["default"].hasSupport("passiveEventListeners")?{passive:true}:{capture:false}},97854:function(e,t,n){"use strict";n.d(t,{createPortalDestination:function(){return s}});var r="wt-portals";var o=["wt-portal-blue","wt-portal-green","wt-portal-yellow","wt-portal-orange","wt-portal-red-orange","wt-portal-red"];var i={"viewport-fixed":"wt-portal-blue","screen-covers":"wt-portal-green","alert-toasts":"wt-portal-yellow","anchored-panels":"wt-portal-orange","anchored-panels-with-triggers":"wt-portal-red-orange",tooltips:"wt-portal-red"};var a={"wt-portal-blue":"default","wt-portal-green":"default","wt-portal-yellow":"default","wt-portal-orange":"default","wt-portal-red-orange":"top","wt-portal-red":"default"};function l(){var e;return"undefined"!==typeof document&&!!(null!==(e=document)&&void 0!==e&&e.getElementById)}function s(e,t){if(l()){var n;t&&(n=document.getElementById(t));if(n)return n;var s=document.getElementById(r);if(!s){var u=document.createElement("div");u.setAttribute("id",r);document.body.appendChild(u);s=u}o.forEach((function(e){var t=document.getElementById(e);if(!t){var n;var r=document.createElement("div");r.setAttribute("id",e);r.style.zIndex="80";if("top"===a[e]){r.style.position="absolute";r.style.top="0";r.style.left="0";r.style.width="100%";r.style.height="0"}else r.style.position="relative";null===(n=s)||void 0===n?void 0:n.appendChild(r)}}));var c=i[e];var d=document.getElementById(c);if(t){n=document.createElement("div");n.setAttribute("id",t);null===d||void 0===d?void 0:d.appendChild(n);return n}return d}return null}},5015:function(e,t,n){"use strict";n.d(t,{default:function(){return o}});var r=n(52824);function o(e,t){if(e)return true;var n=new Error(t);false;r["default"].captureException(n);return false}},52824:function(e,t,n){e.exports=n(76947)(1089)},52487:function(e,t,n){e.exports=n(76947)(2137)},24143:function(e,t,n){e.exports=n(76947)(2238)},65621:function(e,t,n){e.exports=n(38005)(2641)},8209:function(e,t,n){e.exports=n(76947)(3042)},53285:function(e,t,n){e.exports=n(76947)(3693)},60053:function(e,t,n){e.exports=n(76947)(4476)},98277:function(e,t,n){e.exports=n(38005)(49)},21911:function(e,t,n){e.exports=n(76947)(5257)},24507:function(e,t,n){e.exports=n(76947)(5666)},20953:function(e,t,n){e.exports=n(76947)(6074)},88826:function(e,t,n){e.exports=n(76947)(6077)},16136:function(e,t,n){e.exports=n(76947)(6220)},63294:function(e,t,n){e.exports=n(76947)(6873)},40781:function(e,t,n){e.exports=n(76947)(696)},6226:function(e,t,n){e.exports=n(76947)(7881)},75818:function(e,t,n){e.exports=n(38005)(8118)},34205:function(e,t,n){e.exports=n(76947)(8313)},83816:function(e,t,n){e.exports=n(76947)(9290)},51221:function(e,t,n){e.exports=n(76947)(9633)},71223:function(e,t,n){e.exports=n(76947)(9965)},76947:function(e){"use strict";e.exports=etsy_libs_917e650259b4f0dd4314},38005:function(e){"use strict";e.exports=vendor_bundle_13bcfe5f1bf09197c0f7}};var t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};e[r](i,i.exports,n);return i.exports}n.m=e;!function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};n.d(t,{a:t});return t}}();!function(){n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:true,get:t[r]})}}();!function(){n.f={};n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){n.f[r](e,t);return t}),[]))}}();!function(){n.u=function(e){return"async/common-entrypoints/"+"auto/app-shell/footer/deferred"+"."+"3b647123994dd9901bc0"+".js"}}();!function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}();!function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}();!function(){var e={};n.l=function(t,r,o,i){if(e[t]){e[t].push(r);return}var a,l;if(void 0!==o){var s=document.getElementsByTagName("script");for(var u=0;u<s.length;u++){var c=s[u];if(c.getAttribute("src")==t){a=c;break}}}if(!a){l=true;a=document.createElement("script");a.charset="utf-8";a.timeout=120;n.nc&&a.setAttribute("nonce",n.nc);a.src=t}e[t]=[r];var d=function(n,r){a.onerror=a.onload=null;clearTimeout(f);var o=e[t];delete e[t];a.parentNode&&a.parentNode.removeChild(a);o&&o.forEach((function(e){return e(r)}));if(n)return n(r)};var f=setTimeout(d.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=d.bind(null,a.onerror);a.onload=d.bind(null,a.onload);l&&document.head.appendChild(a)}}();!function(){var e;n.g.importScripts&&(e=n.g.location+"");var t=n.g.document;if(!e&&t){t.currentScript&&(e=t.currentScript.src);if(!e){var r=t.getElementsByTagName("script");if(r.length){var o=r.length-1;while(o>-1&&(!e||!/^http(s?):/.test(e)))e=r[o--].src}}}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/");n.p=e+"../../"}();!function(){var e={1728:0,584:0,1309:0};n.f.j=function(t,r){var o=n.o(e,t)?e[t]:void 0;if(0!==o)if(o)r.push(o[2]);else if(true){var i=new Promise((function(n,r){o=e[t]=[n,r]}));r.push(o[2]=i);var a=n.p+n.u(t);var l=new Error;var s=function(r){if(n.o(e,t)){o=e[t];0!==o&&(e[t]=void 0);if(o){var i=r&&("load"===r.type?"missing":r.type);var a=r&&r.target&&r.target.src;l.message="Loading chunk "+t+" failed.\n("+i+": "+a+")";l.name="ChunkLoadError";l.type=i;l.request=a;o[1](l)}}};n.l(a,s,"chunk-"+t,t)}};var t=function(t,r){var o=r[0];var i=r[1];var a=r[2];var l,s,u=0;if(o.some((function(t){return 0!==e[t]}))){for(l in i)n.o(i,l)&&(n.m[l]=i[l]);if(a)var c=a(n)}t&&t(r);for(;u<o.length;u++){s=o[u];n.o(e,s)&&e[s]&&e[s][0]();e[s]=0}};var r=self["jsonp-common-entrypoints"]=self["jsonp-common-entrypoints"]||[];r.forEach(t.bind(null,0));r.push=t.bind(null,r.push.bind(r))}();var r={};!function(){"use strict";var e=n(88826);var t=n.n(e);var r=n(52381);var o=n(6268);var i=n(63294);var a=n(51221);var l=n(24143);var s=n(53285);var u=n(16136);var c=n(6255);var d;function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:true,configurable:true,writable:true}):e[t]=n;return e}function g(e,t,n,r,o,i,a){try{var l=e[i](a);var s=l.value}catch(u){n(u);return}l.done?t(s):Promise.resolve(s).then(r,o)}function m(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){g(i,r,o,a,l,"next",e)}function l(e){g(i,r,o,a,l,"throw",e)}a(void 0)}))}}function y(e){return new Promise((function(t){if(document.querySelector(e))return t(document.querySelector(e));var n=new MutationObserver((function(){if(document.querySelector(e)){n.disconnect();t(document.querySelector(e))}}));n.observe(document.body,{childList:true,subtree:true})}))}function h(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];try{window.initializePrivacySettingsManager(true,e);s["default"].increment("privacy.transcend.privacy_settings_manager_loaded_initially")}catch(t){s["default"].increment("privacy.transcend.privacy_settings_manager_failed_initially",1);y("#privacy-settings-manager-load-complete").then((function(){window.initializePrivacySettingsManager(true,e);s["default"].increment("privacy.transcend.privacy_settings_manager_loaded_after_waiting",1)}))}u["default"].getBoolean("dynamic_privacy_settings_ui_enabled")&&s["default"].increment("privacy.transcend.dynamic_settings_ui_enabled")}function _(){return b.apply(this,arguments)}function b(){b=m(t().mark((function e(){var n,l,c;return t().wrap((function e(t){while(1)switch(t.prev=t.next){case 0:t.next=2;return window.airgap.sync();case 2:n=a["default"].getSignedInUserId();if(u["default"].getBoolean("dual_write_enabled"))if(n){l=(0,r["default"])(window.airgap.getConsent(),{is_confirmed:false,expiration_period_minutes:window.airgap.loadOptions.consentExpiry,applicable_purposes:Array.from(window.airgap.getRegimePurposes()),regional_experiences:Array.from(window.airgap.getRegimes())});(0,i["default"])(l).then((function(e){if(e.ok){s["default"].increment("privacy.transcend.anonymous.save_preference.success");h()}else{s["default"].increment("privacy.transcend.anonymous.save_preference.failed");h(false)}})).catch((function(){h(false)}))}else{c=(0,o["default"])(window.airgap.getConsent(),{is_confirmed:false,expiration_period_minutes:window.airgap.loadOptions.consentExpiry,applicable_purposes:Array.from(window.airgap.getRegimePurposes()),regional_experiences:Array.from(window.airgap.getRegimes())});(0,i["default"])(c).then((function(e){if(e.ok){s["default"].increment("privacy.transcend.anonymous.save_preference.success");h()}else{s["default"].increment("privacy.transcend.anonymous.save_preference.failed");h(false)}})).catch((function(){h(false)}))}case 4:case"end":return t.stop()}}),e)})));return b.apply(this,arguments)}if(!(null!==(d=self.airgap)&&void 0!==d&&d.ready)){var S;self.airgap=p(p({},null===(S=self)||void 0===S?void 0:S.airgap),{},{readyQueue:[],ready:function e(t){var n;null===(n=this.readyQueue)||void 0===n?void 0:n.push(t)}})}self.airgap.ready((function(){var e=u["default"].getString("airgap_bundle");l["default"].logEvent({event_name:"transcend_cmp_airgap_loaded",airgap_url:u["default"].getString("airgap_url"),airgap_bundle:e,regimes:window.airgap.getRegimes()});s["default"].increment("privacy.transcend.airgap_bundle_loaded.".concat(e));_();u["default"].getBoolean("dynamic_privacy_settings_ui_enabled")&&y("#footer-script-loaded").then((function(){(0,c.updatePrivacySettingsFooterTextBasedOnRegime)()}))}))}()})();
//# sourceMappingURL=https://www.etsy.com/sourcemaps/primaryVendor/en-US/@etsy-modules/ConsentManagement/Transcend-Integration.0a0fca9145aa8b7ca2a6.js.map